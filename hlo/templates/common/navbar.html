{% load static %}
<header>
  {% load bootstrap_icons %}
  <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark">
    <div class="container-xl">
      <a class="navbar-brand" href="{% url 'index' %}">
        <img style="height: 1.5em"
             class="pe-2"
             src="{% static 'images/logo/hlo-cc0-logo-white.png' %}" />
      Homelab Organizer</a>
      <!-- Navbar toggle button for small screens -->
      <button class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbar"
              aria-controls="navbar"
              aria-expanded="false"
              aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item dropdown">
            {% url 'shop-list' as link_list %}
            {% url 'shop-create' as link_create %}
            <a class="nav-link dropdown-toggle{% if request.path == link_list or request.path == link_create %} active{% endif %}"
               href="#"
               id="navbarShopDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">Shop</a>
            <ul class="dropdown-menu" aria-labelledby="navbarShopDropdown">
              <li>
                <a class="nav-link{% if request.path == link_list %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_list }}">List</a>
              </li>
              <li>
                <a class="nav-link{% if request.path == link_create %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_create }}">Create</a>
              </li>
            </ul>
            <!-- navbarShopDropdown -->
          </li>
          <li class="nav-item dropdown">
            {% url 'order-list' as link_list %}
            {% url 'order-create' as link_create %}
            <a class="nav-link dropdown-toggle{% if request.path == link_list or request.path == link_create or request.path == link_create_simple %} active{% endif %}"
               href="#"
               id="navbarOrderDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">Order</a>
            <ul class="dropdown-menu" aria-labelledby="navbarOrderDropdown">
              <li>
                <a class="nav-link{% if request.path == link_list %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_list }}">List</a>
              </li>
              <li>
                <a class="nav-link{% if request.path == link_create %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_create }}">Create</a>
              </li>
            </ul>
            <!-- navbarOrderDropdown -->
          </li>
          <li class="nav-item dropdown">
            {% url 'orderitem-list' as link_list %}
            {% url 'orderitem-create' as link_create %}
            <a class="nav-link dropdown-toggle{% if request.path == link_list or request.path == link_create %} active{% endif %}"
               href="#"
               id="navbarOrderItemDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">Order items</a>
            <ul class="dropdown-menu" aria-labelledby="navbarOrderItemDropdown">

              <li>
                <a class="nav-link{% if request.path == link_list %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_list }}">List</a>
              </li>
              <li class="nav-item">
                <a class="nav-link{% if request.path == link_create %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_create }}">Create</a>
              </li>
            </ul>
            <!-- navbarOrderItemDropdown -->
          </li>
          <li>
            {% url 'stockitem-list' as link %}
            <a class="nav-link{% if request.path == link %} active{% endif %}"
               aria-current="page"
               href="{{ link }}">Stock items</a>
          </li>
          <li class="nav-item dropdown">
            {% url 'storage-list' as link_list %}
            {% url 'storage-create' as link_create %}
            <a class="nav-link dropdown-toggle{% if request.path == link_list or request.path == link_create %} active{% endif %}"
               href="#"
               id="navbarStorageDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">Storage</a>
            <ul class="dropdown-menu" aria-labelledby="navbarStorageDropdown">
              <li>
                <a class="nav-link{% if request.path == link_list %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_list }}">List</a>
              </li>
              <li>
                <a class="nav-link{% if request.path == link_create %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_create }}">Create</a>
              </li>
            </ul>
            <!-- navbarStorageDropdown -->
          </li>
          <li class="nav-item dropdown">
            {% url 'item-search' as link_I %}
            {% url 'attachement-search' as link_A %}
            <a class="nav-link dropdown-toggle{% if request.path == link_I or request.path == link_A %} active{% endif %}"
               href="#"
               id="navbarSearchDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">Search</a>
            <ul class="dropdown-menu" aria-labelledby="navbarSearchDropdown">
              <li>
                {% if request.user.is_staff %}
                  <a class="nav-link{% if request.path == link_I %} active{% endif %}"
                     aria-current="page"
                     href="{{ link_I }}">Item search</a>
                </li>
              {% endif %}
              <li>
                <a class="nav-link{% if request.path == link_A %} active{% endif %}"
                   aria-current="page"
                   href="{{ link_A }}">Attachement search</a>
              </li>
            </ul>
            <!-- navbarSearchDropdown -->
          </li>
          {% if request.user.is_staff %}
            <li class="nav-item">
              <a class="nav-link{% if request.path == link %} active{% endif %}"
                 aria-current="page"
                 href="{% url 'admin:index' %}"
                 target="_blank">Admin</a>
            </li>
          {% endif %}
        </ul>
          <span class="navbar-text d-none d-lg-block d-xl-block d-xxl-block">
            {{ user.get_username }}{% if not user.is_authenticated %}(not autenticated){% endif %}
            {% comment %}TODO: Use env var or simmilar{% endcomment %}
            (<a href="/cdn-cgi/access/logout">logout</a>)
          </span>
      </div>
    </div>
  </nav>
</header>
